<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta property="og:url" content="https://maxmudjon.github.io/abco-tests/" />
    <meta property="og:title" content="ABCO Testlari" />
    <meta property="og:description" content="O'tilgan xisob raqamlar bo'yicha testdan o'tish." />
    <meta property="og:image" content="https://github.com/Maxmudjon/images/blob/master/10-test.jpg" />
    <title>ABCO Test</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.6/dist/vue.js"></script>

    <script src="https://www.gstatic.com/firebasejs/5.8.4/firebase.js"></script>
    <script>
      var config = {
        apiKey: "AIzaSyDKPIGWRriLIfAIr170t-w-WfK9b3A93dA",
        authDomain: "abco-tests.firebaseapp.com",
        databaseURL: "https://abco-tests.firebaseio.com",
        projectId: "abco-tests",
        storageBucket: "abco-tests.appspot.com",
        messagingSenderId: "636499463293"
      };
      firebase.initializeApp(config);
    </script>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous"
    />
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.9/semantic.min.css" /> -->
    <style>
      html,
      body {
        height: 100%;
      }
      body {
        -webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
        background-size: cover;
        background-color: #4583d0;
        background-repeat: no-repeat;
        /* IE10 Consumer Preview */
        background-image: -ms-linear-gradient(top, #9d3bf2 100%, #4583d0 100%);
        /* Mozilla Firefox */
        background-image: -moz-linear-gradient(top, #9d3bf2 100%, #4583d0 100%);
        /* Opera */
        background-image: -o-linear-gradient(top, #9d3bf2 100%, #4583d0 100%);
        /* Webkit (Safari/Chrome 10) */
        background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #9d3bf2), color-stop(1, #4583d0));
        /* Webkit (Chrome 11+) */
        background-image: -webkit-linear-gradient(top, #9d3bf2 100%, #4583d0 100%);
        /* W3C Markup, IE10 Release Preview */
        background-image: linear-gradient(to bottom, #9d3bf2 0%, #4583d0 100%);
        margin: 0px 0px 0px 0px;
      }

      .abcoTests {
        margin-top: 15px;
      }

      h3 {
        color: #5748a3;
      }

      h4 {
        color: #5748a3;
      }

      .footer {
        position: relative;
        margin-top: 10px;
        left: 0;
        bottom: 10px;
        width: 100%;
        color: white;
        text-align: center;
        font-size: xx-small;
      }

      .topBallar {
        margin-top: 10px;
      }

      hr.style7 {
        margin-top: 1rem;
        margin-bottom: 1rem;
        border: 0;
        border-top: 1px solid rgba(0, 0, 0, 0.1);
      }

      @media screen and (min-width: 360px) {
        .footer {
          font-size: small;
        }

        /* .xisobKitob {
                width: 50%;
              }

              .minutlik {
                width: 50%;
              } */
      }

      @media screen and (max-height: 380px) {
        .footer {
          display: none;
        }
      }

      @media screen and (min-height: 360px) {
        .xisobKitob {
          width: 50%;
        }

        .minutlik {
          width: 50%;
        }
      }
    </style>
  </head>
  <body>
    <div class="abcoTests mb-5" id="abcoTests">
      <div class="container-fluid h-100">
        <div class="row justify-content-center align-items-center">
          <div class="col-sm-12 col-md-9 col-lg-7 col-xl-6 text-center">
            <!-- --------------- -->
            <!-- Bosh saxifa -->
            <!-- --------------- -->
            <div v-if="testStep == 'hello'">
              <div class="card" style="padding: 10px;">
                <div style="text-align: center;">
                  <h4>Assalomu aleykum</h4>
                  <h4>Testdan o'tish saytiga xush kelibsiz</h4>
                </div>
                <hr class="style7" />
                <div class="m-4" style="text-align: center;">
                  <h5>Iltimos ismingizni kiriting</h5>
                  <h5 class="m-4" for="username" style="color: red">{{ username }}</h5>
                  <input type="text" class="form-control" id="shot" v-model="username" placeholder="ismingiz" />
                </div>
                <div>
                  <button type="button" class="btn btn-primary btn-lg col-xs-12 col-sm-9 col-md-6 col-lg-4 col-xl-3" v-on:click="boshladik">Boshladik</button>
                </div>
              </div>
            </div>
            <!-- --------------- -->
            <!-- Birinchi saxifa -->
            <!-- --------------- -->
            <div v-if="testStep == 'toWhich'">
              <div class="card" style="padding: 10px;">
                <div style="text-align: center; padding: 20px">
                  <h4>Iltimos qaysi xisob raqamga kelganingizni tanlang</h4>
                  <h4 for="accountNumber" style="color: red">{{ total }} - {{ this.accounts[toWhich].name }}</h4>
                  <h5 for="accountNumber">xisob raqamigacha</h5>
                  <input type="range" class="custom-range mt-4 mb-4" min="1" max="76" step="1" id="accountNumber" value="1" v-model="toWhich" />
                </div>
                <div>
                  <button type="button" class="btn btn-primary btn-lg col-xs-12 col-sm-9 col-md-6 col-lg-4 col-xl-3" v-on:click="selectedToWhich">Tanladim</button>
                </div>
              </div>
              <div class="mt-3">
                <button type="button" class="btn btn-info btn-lg col-xs-12 col-sm-9 col-md-6 col-lg-4 col-xl-3" v-on:click="engKopBallar">Eng ko'p bal yiqqanlar</button>
              </div>
              <div class="mt-3 mb-3">
                <button type="button" class="btn btn-success btn-lg col-xs-12 col-sm-9 col-md-6 col-lg-4 col-xl-3" v-on:click="orqaga('testlar')">Ortga qatyish</button>
              </div>
            </div>
            <!-- ----------------- -->
            <!-- Ochkolar saxifasi -->
            <!-- ----------------- -->
            <div v-if="testStep == 'ochkolar'">
              <div class="topBallar p-2">
                <h4 style="color: white">Eng ko'p bal yiqqan foydalanuvchilar</h4>
                <ul class="list-group" v-for="(foydalanuvchi, index) in foydalanuvchilar">
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                    {{ foydalanuvchi.name }}
                    <span class="badge badge-primary badge-pill">{{ foydalanuvchi.ballar }}</span>
                  </li>
                </ul>
              </div>
              <div class="mt-3 mb-3">
                <button type="button" class="btn btn-success btn-lg col-xs-12 col-sm-9 col-md-6 col-lg-4 col-xl-3" v-on:click="orqaga('testlar')">Ortga qatyish</button>
              </div>
            </div>
            <!-- ---------------- -->
            <!-- Teslar saxifasi  -->
            <!-- ---------------- -->
            <div v-if="testStep == 'testlar'">
              <div style="text-align: center;">
                <h2 style="color: white">Salom {{ username }}!</h2>
              </div>
              <hr class="style7" />
              <h3 style="color: white">Test turini tanlang</h3>
              <div class="custom-control custom-checkbox m-4">
                <input type="checkbox" class="custom-control-input" id="defaultUnchecked" v-model="yordamBerilsin" />
                <label class="custom-control-label" for="defaultUnchecked" style="color: white">Yordam berilsin</label>
              </div>
              <!-- ----------------------------------- -->
              <div class="container">
                <div class="row">
                  <div class="col-sm-6 col-lg-6 xisobKitob" v-on:click="orqaga('toWhich')" style="cursor: pointer;">
                    <div class="card">
                      <img class="card-img-top img-fluid" src="https://raw.githubusercontent.com/Maxmudjon/images/master/xisobRaqamgacha.jpg" alt="Card image cap" />
                      <div class="card-body">
                        <h5 class="card-title">Xisob raqamgacha</h5>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-6 col-lg-6 minutlik" v-on:click="orqaga('5minutlik')" style="cursor: pointer;">
                    <div class="card">
                      <img class="card-img-top img-fluid" src="https://raw.githubusercontent.com/Maxmudjon/images/master/5minutlikTest.jpg" alt="Card image cap" />
                      <div class="card-body">
                        <h5 class="card-title">5 minutlik test</h5>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- ----------------------------------- -->
              <div class="mt-3">
                <button type="button" class="btn btn-info btn-lg col-xs-12 col-sm-9 col-md-6 col-lg-6 col-xl-5" v-on:click="engKopBallar">Eng ko'p bal yiqqanlar</button>
              </div>
            </div>
            <!-- ----------------- -->
            <!-- Savollar saxifasi -->
            <!-- ----------------- -->
            <div v-if="testStep == 'savollar'">
              <div class="card" style="padding: 10px;">
                <div style="text-align: center;">
                  <h4>{{ toWhich }} ta savoldan {{ currentSteep + 1 }} - savol</h4>
                  <h4>Yeg'ilgan bal: {{ ballar }}</h4>
                </div>
                <hr class="style7" />
                <div style="text-align: center; padding: 20px">
                  <h5>Iltimos xisob raqamini kiriting</h5>
                  <h5 class="m-4" for="accountNumber" style="color: red">{{ accounts[currentQuestion].name }}</h5>
                  <h6 v-if="yordamJavob == 'xa'" for="accountNumberAnswer" style="color: red">{{ accounts[currentQuestion].account }}</h6>
                  <input type="number" class="form-control" id="shot" v-model="answer" v-on:keyup.enter="next" placeholder="xisob raqami" />
                </div>
                <div>
                  <button type="button" class="btn btn-primary float-right" v-on:click="next">Keyingi savol</button>
                </div>
              </div>
            </div>
            <!-- ---------------------- -->
            <!-- Umumiy ballar saxifasi -->
            <!-- ---------------------- -->
            <div v-if="testStep == 'umumiy'">
              <div class="card" style="padding: 10px;">
                <div style="text-align: center;">
                  <h3 class="mb-3">Yeg'ilgan ballar: {{ ballar }}</h3>
                  <h4>{{ testResaultText1 }}</h4>
                </div>
                <hr class="style7" />
                <div style="text-align: center; padding: 20px">
                  <h4>{{ testResaultText2 }}</h4>
                </div>
                <div v-if="taymer">
                  <hr class="style7" />
                  <div style="text-align: center; padding: 20px">
                    <h4>{{ testResaultText3 }}</h4>
                  </div>
                </div>
                <div>
                  <button type="button" class="btn btn-primary btn-lg col-xs-12 col-sm-9 col-md-6 col-lg-4 col-xl-3" v-on:click="orqaga('testlar')">Bosh saxifa</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ---------------------- -->
    <!-- Footer -->
    <!-- ---------------------- -->
    <div class="footer" id="footer">
      <p>© Developed by Payziyev Maxmudjon - 2019</p>
      <p>ABCO bug'alteriya maktabi</p>
    </div>

    <script type="text/javascript">
      var database = firebase.database().ref("ballar");
      var topUsers = firebase.database().ref("engKopBal");
      var beshMinutlik = firebase.database().ref("5minutlik");

      new Vue({
        el: "#abcoTests",
        data: {
          username: "",
          foydalanuvchilar: [],
          userTopScore: 0,
          testStep: "hello",
          currentSteep: 0,
          currentQuestion: "",
          question: [],
          failAnswers: [],
          toWhich: 1,
          questionLength: 0,
          ballar: 0,
          answer: null,
          yordamJavob: "yoq",
          yordamBerilsin: false,
          taymer: false,
          testResaultText1: "Test 1",
          testResaultText2: "Test 2",
          testResaultText3: "Test 3",
          lessThanTen: true,
          tenTests: false,
          twentyTests: false,
          thirtyTests: false,
          fortyTests: false,
          fiftyTests: false,
          boshlanganVaqt: 0,
          otganVaqt: 0,
          accounts: {
            "1": { name: "Asosiy vositalar", account: "0110" },
            "2": { name: "Asosiy vositalarning eskirishi", account: "0210" },
            "3": { name: "Lizing", account: "0310" },
            "4": { name: "Nomoddiy aktivlar", account: "0410" },
            "5": { name: "Nomoddiy aktivlarning eskirishi", account: "0510" },
            "6": { name: "Uzoq muddatli investitsiyalar", account: "0610" },
            "7": { name: "O'rnatiladigan asbob-uskunalar", account: "0710" },
            "8": { name: "Tugallanmagan qurilish (Kapital qo'yilmalar)", account: "0810" },
            "9": { name: "Asosiy vositani xarid qilish (Kapital qo'yilmalar)", account: "0820" },
            "10": { name: "Nomoddiy aktivlarni xarid qilish (Kapital qo'yilmalar)", account: "0830" },
            "11": { name: "Uzoq muddatlik debitorlik qarzlar", account: "0910" },
            "12": { name: "Xom ashyo va materiallar", account: "1010" },
            "13": { name: "O'stirishdagi va boquvdagi xayvonlar", account: "1110" },
            "14": { name: "Materiallarni tayyorlash - 'загатовка'", account: "1510" },
            "15": { name: "Materiallar qiymatidagi farqlar", account: "1610" },
            "16": { name: "Asosiy ishlab chiqarish", account: "2010" },
            "17": { name: "O'zida ishlab chiqarilgan yarim tayyor maxsulotlar", account: "2110" },
            "18": { name: "Yordamchi ishlab chiqarish", account: "2310" },
            "19": { name: "Umumiy ishlab chiqarish xarajatlari", account: "2510" },
            "20": { name: "Ishlab chiqarishdagi yaroqsiz maxsulotlar - 'брак'", account: "2610" },
            "21": { name: "Xizmat ko'rsatuvchi xo'jaliklar", account: "2710" },
            "22": { name: "Tayyor maxsulotlar - 'ombordagi tayyor maxsulotlar'", account: "2810" },
            "23": { name: "Tovarlar - 'ombordagi tovarlar'", account: "2910" },
            "24": { name: "Kelgusi davr xarajatlari", account: "3110" },
            "25": { name: "Kechiktirilgan xarajatlar", account: "3210" },
            "26": { name: "Olinadigan sho'tlar - 'xaridorlarning qarzi'", account: "4010" },
            "27": { name: "Ajratilingan bo'linmalar, sho'ba va qaram xo'jalik jamiyatlaridan olinadigan sho'tlar - 'Filiallarning bosh ofisga qarzi'", account: "4110" },
            "28": { name: "Xodimlarga berilgan bo'naklar - 'аванс'", account: "4210" },
            "29": { name: "Mol yetkazib beruvchilarga va pudratchilarga berilgan bo'naklar - 'аванс'", account: "4310" },
            "30": { name: "Byudjetga bo'nak to'lovlari - 'аванс' - 'byudjet soliqlariga o'tkazilgan bo'nak'", account: "4410" },
            "31": { name: "Maqsadli davlat jamg'armalariga va sug'urtalar bo'yicha bo'nak to'lovlar - 'аванс' - 'byudjetdan tashqari soliqlarga o'tkazilgan bo'nak'", account: "4510" },
            "32": { name: "Ustav kapitaliga ta'sischilarning ulushlari bo'yicha qarzi - 'устав фонд' - 'ta'sischilarning korxona oldidagi qarzi'", account: "4610" },
            "33": { name: "Xodimlarning boshqa operatsiyalar bo'yicha qarzi - 'ishchilarning korxona oldidagi qarzi'", account: "4710" },
            "34": { name: "Turli debitorlar qarzlari - 'boshqa debitor qarzlar'", account: "4810" },
            "35": { name: "Dargumon qarzlar - 'dargumon qarzlar bo'yicha rezerv'", account: "4910" },
            "36": { name: "Kassadagi pul mablag'lari - 'kassadagi naqt pullar'", account: "5010" },
            "37": { name: "Xisob-kitob xisob raqami", account: "5110" },
            "38": { name: "Chet-el valyutasidagi pul mablag'lari - 'valyuta xisob raqami'", account: "5210" },
            "39": { name: "Bankdagi maxsus xisob raqamlardagi pul mablag'lari - 'boshqa ikkilamchi bankdagi xisob raqamlar'", account: "5510" },
            "40": { name: "Pul ekvivalentlari - 'конвертация'", account: "5610" },
            "41": { name: "Yo'ldagi pul mablag' (o'tkazma)lar - 'инкассация'", account: "5710" },
            "42": { name: "Qisqa muddatli investitsiyalar - 'займ'", account: "5810" },
            "43": { name: "Kamomadlar va qiymatliklarning buzulishidan yo'qotishlar va boshqa joriy aktivlar - 'недостатька' - 'kamomatlar'", account: "5910" },
            "44": { name: "Mol yetkazib beruvchilar va pudratchilarga to'lanadigan sho'tlar - 'mol yetkazib beruvchilarga korxonaning qarzi'", account: "6010" },
            "45": { name: "Ajratilgan bo'linmalar, sho'ba va qaram xo'jalik jamiyatlariga to'lanadigan sho'tlar - 'Korxonaning filiallar oldidagi qarzi'", account: "6110" },
            "46": {
              name: "Kechiktirilgan majburiyatlar",
              account: "6210",
              sub: { "1": { name: "Soliqlar va boshqa majburiy to'lovlar foyda solog'i - 'imtiyozli kechiktirilgan soliq to'lovlari'", account: "6240" } }
            },
            "47": { name: "Olingan bo'naklar - 'аванс' - 'xaridorlarning bo'naklari'", account: "6310" },
            "48": { name: "Byudjetga to'lovlar bo'yicha qarzni xisobga olish - 'byudjet soliqlari bo'yicha qarzimiz'", account: "6410" },
            "49": { name: "Sug'urta va maqsadli davlar jamg'armalariga to'lovlar bo'yicha qarzni xisobga olish - 'byudjetdan tashqari soliq qarzlari'", account: "6510" },
            "50": { name: "Korxonaning ta'sischilarga bo'lgan qarzi - 'dvident tariqasida'", account: "6610" },
            "51": { name: "Mehnat xaqi bo'yicha xodim bilan xisoblashishlarni xisobga olish - 'oylik ish xaqqi'", account: "6710" },
            "52": { name: "Qisqa muddatlik kreditlar va qarzlar - 'qisqa muddatli olingan kredit va zaymlar'", account: "6810" },
            "53": { name: "Turli kreditorlarga bo'lgan qarzlarni xisobga olish - 'boshqa kreditor qarzlar (xizmatlar bo'yicha'", account: "6910" },
            "54": { name: "Mol yetkazib beruvchilarga va pudratchilarga to'lanadigan uzoq muddatli xisob raqamlar - 'mol yetkazib beruvchilarga uzoq muddatlik qarzimiz'", account: "7010" },
            "55": { name: "Ajratilgan bo'linmalar, sho'ba va qaram xo'jalik jamiyatlariga bo'lgan uzoq muddatli qarz - 'Korxonaning filiallar oldidagi uzoq muddatlik qarzi'", account: "7110" },
            "56": { name: "Kechiktirilgan uzoq muddatlik majburiyatlarni xisobga olish - 'uzoq muddatlik kechiktirilgan majburiyatlar'", account: "7210" },
            "57": { name: "Xaridorlar va buyurtmachilardan olingan uzoq muddatli bo'naklarni xisobga olish - 'uzoq muddatlik avans xisob raqami'", account: "7310" },
            "58": { name: "Uzoq muddatli kreditlar va qarzlarni xisobga olish - 'uzoq muddatlik zaym, kreditlar'", account: "7810" },
            "59": { name: "Turli kreditorlarga bo'lgan uzoq muddatli qarzlarni xisobga olish - 'uzoq muddatlik boshqa kreditor qarzlar'", account: "7910" },
            "60": { name: "Ustav kapitalni xisobga olish", account: "8310" },
            "61": { name: "Qo'shilgan kapital", account: "8410" },
            "62": { name: "Rezerv kapitali", account: "8510" },
            "63": { name: "Sotib olingan xususiy aksiyalarni xisobga olish - 'xususiy aksiyalarni sotib olish xisob raqami'", account: "8610" },
            "64": { name: "Taqsimlanmagan foyda (qoplanmagan zarar)", account: "8710" },
            "65": { name: "Maqsadlik tushumlar", account: "8810" },
            "66": { name: "Kelgusi xarajatlar va to'lovlarni rezervlarini xisobga olish", account: "8910" },
            "67": { name: "Asosiy (operatsion) faoliyatning daromadlarini xisob olish - 'asosiy faoliyat bo'yicha daromadlar'", account: "9010" },
            "68": { name: "Sotilgan maxsulot (tovar, ish, xizmat)larning  tannarxini xisobga olish - 'maxsulot yoki tovarning tannarxi'", account: "9110" },
            "69": { name: "Asosiy vositalar va boshqa aktivlarning hciqib ketishini xisobga olish - 'asosiy vositaning chiqib ketishi'", account: "9210" },
            "70": { name: "Asosiy faoliyatning boshqa daromadlarini xisobga olish - 'boshqa daromadlar'", account: "9310" },
            "71": { name: "Davr xarajatlarini xisobga olish", account: "9410" },
            "72": { name: "Moliyaviy faoliyat daromadlarini xisobga olish - 'valyuta farqlari bo'yicha daromad'", account: "9510" },
            "73": { name: "Moliyaviy faoliyat xarajatlarni xisobga olish - 'valyuta farqlari bo'yicha zarar'", account: "9610" },
            "74": { name: "Favqulotda foyda yoki zarar", account: "9710" },
            "75": { name: "Soliqlar va boshqa majburiy to'lovlarni to'lash uchun foydaning ishlatilishini xisobga olish - 'tranzit soliq schyoti'", account: "9810" },
            "76": { name: "Yakuniy moliyaviy natijani xisobga olish - 'oxirgi moliyaviy natija'", account: "9910" }
          }
        },
        methods: {
          boshladik() {
            if (this.username == "") {
              alert("Iltimos ismingizni kiriting");
            } else {
              this.testStep = "testlar";
              localStorage.foydalanuvchi = this.username;
            }
          },
          selectedToWhich() {
            this.start(this.toWhich);
          },
          start(count) {
            this.question = this.randomTests(count, 1, count);
            this.currentQuestion = this.question[this.currentSteep];
            this.testStep = "savollar";
            this.questionLength = this.toWhich;
            this.yordamJavob = "yoq";
            this.timer();
            if (this.taymer) {
              var that = this;
              this.boshlanganVaqt = new Date().getTime();

              setTimeout(function() {
                that.testStep = "umumiy";
                that.currentSteep = 0;
                that.currentQuestion = "";
                that.question = [];
                that.toWhich = 1;
                let xozirgiVaqt = new Date().getTime();

                if (that.ballar == 0) {
                  that.testResaultText1 = "Siz berilgan 5 daqiqa ichida " + that.questionLength + " ta savolning birortasiga to'g'ri javob berolmadingiz";
                  that.testResaultText2 = "Xisob raqamlarni yodlang!";
                  that.testResaultText3 = "Ketgazgan vaqtingiz: " + that.msToTime(xozirgiVaqt - that.boshlanganVaqt);
                  beshMinutlik
                    .child(that.username)
                    .child(that.getDate())
                    .child(that.getTime())
                    .set({
                      tanlanganXisobRaqamgacha: that.accounts[that.questionLength].account,
                      savollarSoni: that.questionLength,
                      yegilganBallar: that.ballar,
                      togriJavobFoizda: 0,
                      testdanOtdi: false,
                      notogriJavoblar: that.failAnswers,
                      ketgazganVaqti: that.msToTime(xozirgiVaqt - that.boshlanganVaqt)
                    });
                } else {
                  let baxoFoizda = Math.floor((that.ballar / that.questionLength) * 100);
                  that.testResaultText1 = "Siz berilgan 5 daqida ichida " + that.questionLength + " ta savolning " + that.ballar + " tasiga to'g'ri javob berdingiz";
                  that.testResaultText2 = "Qoyil, siz testdan o'tdingiz, bergan " + baxoFoizda + " % javobingiz to'g'ri";
                  that.testResaultText3 = "Ketgazgan vaqtingiz: " + that.msToTime(xozirgiVaqt - that.boshlanganVaqt);
                  beshMinutlik
                    .child(that.username)
                    .child(that.getDate())
                    .child(that.getTime())
                    .set({
                      tanlanganXisobRaqamgacha: that.accounts[that.questionLength].account,
                      savollarSoni: that.questionLength,
                      yegilganBallar: that.ballar,
                      togriJavobFoizda: baxoFoizda,
                      testdanOtdi: true,
                      notogriJavoblar: that.failAnswers,
                      ketgazganVaqti: that.msToTime(xozirgiVaqt - that.boshlanganVaqt)
                    });
                }
              }, 300000);
            }
          },
          next() {
            let input = document.getElementById("shot");

            if (!this.answer) {
              input.style.setProperty("border-color", "ff8080");
              input.style.setProperty("box-shadow", "0 0 0 0.2rem rgba(255, 0, 0, 0.25)");

              // throw new Error("Javob yozilmadi");
            }

            if (this.answer == this.accounts[this.currentQuestion].account) {
              input.style.removeProperty("border-color", "ff8080");
              input.style.removeProperty("box-shadow", "0 0 0 0.2rem rgba(255, 0, 0, 0.25)");
              this.ballar++;
              this.answer = "";

              this.yordamJavob = "yoq";
              this.timer();

              if (this.toWhich - 1 !== this.currentSteep) {
                this.currentSteep++;
                this.currentQuestion = this.question[this.currentSteep];
              } else {
                this.testStep = "umumiy";
                this.currentSteep = 0;
                this.currentQuestion = "";
                this.question = [];
                this.toWhich = 1;

                if (this.ballar == 0) {
                  this.testResaultText1 = "Berilgan " + this.questionLength + " ta savolning birortasiga to'g'ri javob berolmadingiz";
                  this.testResaultText2 = "Xisob raqamlarni yodlang!";
                  database
                    .child(this.username)
                    .child(this.getDate())
                    .child(this.getTime())
                    .set({
                      tanlanganXisobRaqamgacha: this.accounts[this.questionLength].account,
                      savollarSoni: this.questionLength,
                      yegilganBallar: this.ballar,
                      togriJavobFoizda: 0,
                      testdanOtdi: false,
                      notogriJavoblar: this.failAnswers
                    });

                  topUsers.child(this.username).set({
                    name: this.username,
                    ballar: this.userTopScore + this.ballar
                  });
                } else {
                  let baxoFoizda = Math.floor((this.ballar / this.questionLength) * 100);
                  this.testResaultText1 = "Berilgan " + this.questionLength + " ta savolning " + this.ballar + " tasiga to'g'ri javob berdingiz";
                  this.testResaultText2 = "Qoyil, siz testdan o'tdingiz, bergan " + baxoFoizda + " % javobingiz to'g'ri";
                  database
                    .child(this.username)
                    .child(this.getDate())
                    .child(this.getTime())
                    .set({
                      tanlanganXisobRaqamgacha: this.accounts[this.questionLength].account,
                      savollarSoni: this.questionLength,
                      yegilganBallar: this.ballar,
                      togriJavobFoizda: baxoFoizda,
                      testdanOtdi: true,
                      notogriJavoblar: this.failAnswers
                    });

                  topUsers.child(this.username).set({
                    name: this.username,
                    ballar: this.userTopScore + this.ballar
                  });
                }

                if (this.taymer) {
                  var that = this;
                  that.testStep = "umumiy";
                  that.currentSteep = 0;
                  that.currentQuestion = "";
                  that.question = [];
                  that.toWhich = 1;
                  let xozirgiVaqt = new Date().getTime();

                  if (that.ballar == 0) {
                    that.testResaultText1 = "Siz berilgan 5 daqiqa ichida " + that.questionLength + " ta savolning birortasiga to'g'ri javob berolmadingiz";
                    that.testResaultText2 = "Xisob raqamlarni yodlang!";
                    that.testResaultText3 = "Ketgazgan vaqtingiz: " + that.msToTime(xozirgiVaqt - that.boshlanganVaqt);
                    beshMinutlik
                      .child(that.username)
                      .child(that.getDate())
                      .child(that.getTime())
                      .set({
                        tanlanganXisobRaqamgacha: that.accounts[that.questionLength].account,
                        savollarSoni: that.questionLength,
                        yegilganBallar: that.ballar,
                        togriJavobFoizda: 0,
                        testdanOtdi: false,
                        notogriJavoblar: that.failAnswers,
                        ketgazganVaqti: that.msToTime(xozirgiVaqt - that.boshlanganVaqt)
                      });
                  } else {
                    let baxoFoizda = Math.floor((that.ballar / that.questionLength) * 100);
                    that.testResaultText1 = "Siz berilgan 5 daqida ichida " + that.questionLength + " ta savolning " + that.ballar + " tasiga to'g'ri javob berdingiz";
                    that.testResaultText2 = "Qoyil, siz testdan o'tdingiz, bergan " + baxoFoizda + " % javobingiz to'g'ri";
                    that.testResaultText3 = "Ketgazgan vaqtingiz: " + that.msToTime(xozirgiVaqt - that.boshlanganVaqt);
                    beshMinutlik
                      .child(that.username)
                      .child(that.getDate())
                      .child(that.getTime())
                      .set({
                        tanlanganXisobRaqamgacha: that.accounts[that.questionLength].account,
                        savollarSoni: that.questionLength,
                        yegilganBallar: that.ballar,
                        togriJavobFoizda: baxoFoizda,
                        testdanOtdi: true,
                        notogriJavoblar: that.failAnswers,
                        ketgazganVaqti: that.msToTime(xozirgiVaqt - that.boshlanganVaqt)
                      });
                  }
                }
              }
            } else {
              input.style.removeProperty("border-color", "ff8080");
              input.style.removeProperty("box-shadow", "0 0 0 0.2rem rgba(255, 0, 0, 0.25)");
              let malumot = {
                savol: this.accounts[this.currentQuestion].name,
                javob: this.accounts[this.currentQuestion].account,
                berilganJavob: this.answer
              };
              this.failAnswers.push(malumot);
              this.answer = "";
              this.yordamJavob = "yoq";
              this.timer();
              if (this.toWhich - 1 !== this.currentSteep) {
                this.currentSteep++;
                this.currentQuestion = this.question[this.currentSteep];
              } else {
                this.testStep = "umumiy";
                this.currentSteep = 0;
                this.currentQuestion = "";
                this.question = [];
                this.toWhich = 1;

                if (this.ballar == 0) {
                  this.testResaultText1 = "Berilgan " + this.questionLength + " ta savolning birortasiga to'g'ri javob berolmadingiz";
                  this.testResaultText2 = "Xisob raqamlarni yodlang!";
                  database
                    .child(this.username)
                    .child(this.getDate())
                    .child(this.getTime())
                    .set({
                      tanlanganXisobRaqamgacha: this.accounts[this.questionLength].account,
                      savollarSoni: this.questionLength,
                      yegilganBallar: this.ballar,
                      togriJavobFoizda: 0,
                      testdanOtdi: false,
                      notogriJavoblar: this.failAnswers
                    });

                  topUsers.child(this.username).set({
                    name: this.username,
                    ballar: this.userTopScore
                  });
                } else {
                  let baxoFoizda = Math.floor((this.ballar / this.questionLength) * 100);
                  this.testResaultText1 = "Berilgan " + this.questionLength + " ta savolning " + this.ballar + " tasiga to'g'ri javob berdingiz";
                  this.testResaultText2 = "Qoyil, siz testdan o'tdingiz, bergan " + baxoFoizda + " % javobingiz to'g'ri";
                  database
                    .child(this.username)
                    .child(this.getDate())
                    .child(this.getTime())
                    .set({
                      tanlanganXisobRaqamgacha: this.accounts[this.questionLength].account,
                      savollarSoni: this.questionLength,
                      yegilganBallar: this.ballar,
                      togriJavobFoizda: baxoFoizda,
                      testdanOtdi: true,
                      notogriJavoblar: this.failAnswers
                    });

                  topUsers.child(this.username).set({
                    name: this.username,
                    ballar: this.userTopScore + this.ballar
                  });
                }

                if (this.taymer) {
                  var that = this;

                  that.testStep = "umumiy";
                  that.currentSteep = 0;
                  that.currentQuestion = "";
                  that.question = [];
                  that.toWhich = 1;
                  let xozirgiVaqt = new Date().getTime();

                  if (that.ballar == 0) {
                    that.testResaultText1 = "Siz berilgan 5 daqiqa ichida " + that.questionLength + " ta savolning birortasiga to'g'ri javob berolmadingiz";
                    that.testResaultText2 = "Xisob raqamlarni yodlang!";
                    that.testResaultText3 = "Ketgazgan vaqtingiz: " + that.msToTime(xozirgiVaqt - that.boshlanganVaqt);
                    beshMinutlik
                      .child(that.username)
                      .child(that.getDate())
                      .child(that.getTime())
                      .set({
                        tanlanganXisobRaqamgacha: that.accounts[that.questionLength].account,
                        savollarSoni: that.questionLength,
                        yegilganBallar: that.ballar,
                        togriJavobFoizda: 0,
                        testdanOtdi: false,
                        notogriJavoblar: that.failAnswers,
                        ketgazganVaqti: that.msToTime(xozirgiVaqt - that.boshlanganVaqt)
                      });
                  } else {
                    let baxoFoizda = Math.floor((that.ballar / that.questionLength) * 100);
                    that.testResaultText1 = "Siz berilgan 5 daqida ichida " + that.questionLength + " ta savolning " + that.ballar + " tasiga to'g'ri javob berdingiz";
                    that.testResaultText2 = "Qoyil, siz testdan o'tdingiz, bergan " + baxoFoizda + " % javobingiz to'g'ri";
                    that.testResaultText3 = "Ketgazgan vaqtingiz: " + that.msToTime(xozirgiVaqt - that.boshlanganVaqt);
                    beshMinutlik
                      .child(that.username)
                      .child(that.getDate())
                      .child(that.getTime())
                      .set({
                        tanlanganXisobRaqamgacha: that.accounts[that.questionLength].account,
                        savollarSoni: that.questionLength,
                        yegilganBallar: that.ballar,
                        togriJavobFoizda: baxoFoizda,
                        testdanOtdi: true,
                        notogriJavoblar: that.failAnswers,
                        ketgazganVaqti: that.msToTime(xozirgiVaqt - that.boshlanganVaqt)
                      });
                  }
                }
              }
            }
          },
          randomTests(testgacha, minValue, maxValue) {
            var A = [];
            while (maxValue >= minValue) A.push(maxValue--);

            A.sort(function() {
              return 0.5 - Math.random();
            });

            return A;
          },
          route() {
            this.testStep = "toWhich";
            this.ballar = 0;
            this.answer = "";
          },
          getDate() {
            let date = new Date();
            var oylar = ["Yanvar", "Fevral", "Mart", "Aprel", "May", "Iyun", "Iyul", "Avgust", "Sentyabr", "Oktyabr", "Noyabr", "Dekabr"];

            return date.getDate() + "-" + oylar[date.getMonth()] + "-" + date.getFullYear();
          },
          getTime() {
            let date = new Date();

            return date.getHours() + ":" + date.getMinutes() + ":" + date.getSeconds();
          },
          timer() {
            if (this.yordamBerilsin == true) {
              var that = this;
              clearTimeout(this.timeOut);
              this.timeOut = setTimeout(function() {
                that.yordamJavob = "xa";
              }, 10000);
            }
          },
          engKopBallar() {
            this.testStep = "ochkolar";
            let footer = document.getElementById("footer");
            footer.style.setProperty("display", "none");
          },
          orqaga(step) {
            this.testStep = step;
            this.ballar = 0;
            this.answer = "";
            if (step == "5minutlik") {
              this.testStep = "toWhich";
              this.taymer = true;
            }

            if (step == "testlar") {
              let footer = document.getElementById("footer");
              footer.style.removeProperty("display", "none");
            }
          },
          msToTime(duration) {
            var milliseconds = parseInt((duration % 1000) / 100),
              seconds = parseInt((duration / 1000) % 60),
              minutes = parseInt((duration / (1000 * 60)) % 60),
              hours = parseInt((duration / (1000 * 60 * 60)) % 24);

            hours = hours < 10 ? "0" + hours : hours;
            minutes = minutes < 10 ? "0" + minutes : minutes;
            seconds = seconds < 10 ? "0" + seconds : seconds;

            return minutes + ":" + seconds;
          }
        },
        computed: {
          total: function() {
            return this.accounts[this.toWhich].account;
          }
        },
        created() {
          if (localStorage.foydalanuvchi != undefined) {
            this.username = localStorage.foydalanuvchi;
            this.testStep = "testlar";

            topUsers.child(this.username).on("value", snapshot => {
              this.userTopScore = snapshot.val().ballar;
            });
          }

          topUsers.on("value", snapshot => {
            this.foydalanuvchilar = snapshot.val();
          });
        }
      });
    </script>
  </body>
</html>
